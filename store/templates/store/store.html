{% extends 'store/main.html' %} {% load static %} {% block content %}
<div class="container">
    <div class="d-flex mt-4">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'images/carosel1.1.jpg' %}" style="width: 700px; height: 390px;" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'images/carosel1.2.jpg' %}" style="width: 700px; height: 390px;" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'images/carosel1.3.jpg' %}" style="width: 700px; height: 390px;" alt="...">
                </div>
            </div>
            <button class="carousel-control-prev" style="opacity: 0;" type="button"
                data-target="#carouselExampleIndicators" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </button>
            <button class="carousel-control-next" style="opacity: 0;" type="button"
                data-target="#carouselExampleIndicators" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </button>
        </div>

        <div>
            <img src="{% static 'images/carosel5.jpg' %}" style="width: 400px;" alt="...">
            <img src="{% static 'images/carosel6.jpg' %}" style="width: 400px;" alt="...">
            <img src="{% static 'images/carosel8.jpg' %}" style="width: 400px;" alt="...">
        </div>
    </div>

    <!------------------------------------------------------>

    {% if request.get_full_path == '/' or 'category' in request.get_full_path%}

    <div class="mt-5">
        <label for="">Categories:</label>
        <a href="{% url 'store' %}" class="ml-2">All</a>

        {% for category in categories %}
        <a href="{% url 'store' %}?category={{ category.name }}" class="ml-2">{{category.name}}</a>
        {% endfor %}
    </div>

    {%endif %}

    <!------------------------------------------------------>

    <div class="row justify-content-center m-2">
        <!-- <h4></h4> -->
        {% if products %}
        {% for product in products %}
        <div class="col-md-3">
            <div class="card m-2 p-1" style="
            width: 15rem; height: 26rem; box-shadow: 8px 8px 25px 0px #afafaf99; border-radius: 25px 15px;
            ">
                <img class="card-img-top w-75" src="{{product.image.url}}" alt="Card image cap" />
                <div class="card-body">
                    <h4 style="font-size: 17px; height: 45px; margin-bottom: 0" class="card-title">
                        {{product.name}}
                    </h4>
                    <h3 style="color: rgb(16, 52, 107); height: 45px" class="card-subtitle mt-1">
                        ${{product.price}}
                    </h3>
                    <p style="font-size: 13px">
                        <a style="font-size: 14px;" class="btn btn-warning m-1 p-1"
                            href="{% url 'store' %}?category={{ product.category.name }}">
                            {{product.category.name}}</a>
                    </p>

                    <a href="{% url 'product' product.pk  %}" class="btn btn-outline-success m-0">Detail</a>
                    <button data-product="{{product.id}}" data-action="add"
                        class="btn btn-outline-secondary add-btn update-cart">
                        Add to Cart
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <p>No Products</p>
        {% endif %}
    </div>

    <div style="display: flex; justify-content: center; margin: 40px 0;">
        {% if products.has_other_pages %}
        <ul class="pagination">
            {% if products.has_previous %}
            <li class="page-item">
                <a href="?page={{ products.previous_page_number }}" class="page-link">&laquo;
                </a>
            </li>

            <li>{% else %}</li>
            <li class="page-item disabled">
                <a class="page-link" href="?page=1">&laquo;</a>
            </li>
            {% endif %}

            {% for i in products.paginator.page_range %}
            {% if products.number == i %}
            <li class="page-item active">
                <a class="page-link">{{ i }}</a>
            </li>
            {% else %}
            <li class="page-item">
                <a href="?page={{ i }}" class="page-link">{{ i }}</a>
            </li>
            {% endif %} {% endfor %}

            {% if products.has_next %}
            <li class="page-item">
                <a href="?page={{ products.next_page_number }}" class="page-link">&raquo;
                </a>
            </li>
            <li>{% else %}</li>
            <li class="page-item disabled">
                <a class="page-link" href="?page={{ products.paginator.num_pages }}">&raquo;</a>
            </li>
            {% endif %}
        </ul>
        {% endif %}
    </div>
</div>

{% endblock content %}